import{r as g,j as e}from"./app-Bfa2NXhs.js";function E({instanceName:c,setInstanceName:a,number:d,setNumber:m,handleSubmit:o,processing:s,message:l}){const[r,u]=g.useState({instanceName:"",number:""}),[i,p]=g.useState(!1),b=t=>t.trim()?/\s/.test(t)?"No se permiten espacios.":t.length<3?"Debe tener al menos 3 caracteres.":t.length>20?"No puede superar los 20 caracteres.":/^[a-zA-Z0-9_-]+$/.test(t)?"":"Solo letras, números, guiones y guiones bajos.":"El nombre no puede estar vacío.",h=t=>t?/^[0-9]+$/.test(t)?t.length<8?"El número es demasiado corto.":t.length>15?"El número es demasiado largo.":"":"Solo se permiten números.":"El número es obligatorio.",f=t=>{t.preventDefault(),p(!0);const n=b(c),x=h(d);u({instanceName:n,number:x}),!n&&!x&&o(t)},N=t=>{const n=t.target.value.replace(/\D/g,"");m(n)},j=t=>{const n=t.target.value.replace(/\s/g,"");a(n),i&&u(x=>({...x,instanceName:b(n)}))};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Nombre de la Empresa*"}),e.jsx("input",{type:"text",value:c,onChange:j,className:`w-full border-l-4 rounded-r-xl p-2 outline-none transition-all
            ${i&&r.instanceName?"border-red-500 focus:ring-red-500":"border-green-500 focus:ring-green-400"} bg-gray-800 text-white placeholder-gray-400`,placeholder:"Ej: MiEmpresa"}),i&&r.instanceName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.instanceName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Número de WhatsApp* (sin +)"}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:d,onChange:N,className:`w-full border-l-4 rounded-r-xl p-2 outline-none transition-all
            ${i&&r.number?"border-red-500 focus:ring-red-500":"border-green-500 focus:ring-green-400"} bg-gray-800 text-white placeholder-gray-400`,placeholder:"Ej: 59165784147"}),i&&r.number&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.number})]}),e.jsx("button",{type:"submit",disabled:s,className:`w-full text-white py-2 rounded-lg transition-all font-semibold
          ${s?"bg-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-500"}`,children:s?"Creando...":"Crear instancia"}),l.text&&e.jsx("div",{className:`mt-4 text-center font-semibold ${l.type==="error"?"text-red-500":"text-green-400"}`,children:l.text})]})}function w({showModal:c,pairingCode:a,countdown:d,connectionState:m}){const[o,s]=g.useState(!1);if(g.useEffect(()=>{if(o){const u=setTimeout(()=>s(!1),2e3);return()=>clearTimeout(u)}},[o]),!c)return null;const l=()=>{navigator.clipboard.writeText(a),s(!0)},r=()=>{switch(m){case"pending":return"Escanea el código en WhatsApp y espera a que se conecte.";case"connected":return"¡Instancia conectada correctamente!";case"failed":return"No se pudo conectar. La instancia será eliminada.";default:return""}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-l-3xl shadow-2xl w-80 text-center border-l-4 border-green-500 relative",children:[e.jsx("h3",{className:"text-xl font-light mb-3 text-green-400 tracking-wide",children:"CÓDIGO DE EMPAREJAMIENTO"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-2xl font-semibold text-blue-400 mb-2",children:a}),e.jsx("p",{className:"text-gray-300 mb-2 text-sm",children:r()}),m==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-300 mb-2 text-sm",children:["Tienes ",e.jsxs("span",{className:"font-bold text-red-500",children:[d,"s"]})," para copiarlo."]}),e.jsx("button",{onClick:l,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-all w-full",children:"Copiar código"}),o&&e.jsx("span",{className:"absolute top-2 right-4 text-green-400 font-semibold text-sm",children:"¡Copiado!"})]})]})]})})}export{E as I,w as P};
